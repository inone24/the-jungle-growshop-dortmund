---
import type { NavigationItem } from '../types';
const { navItems } = Astro.props as { navItems: NavigationItem[] };
const base = import.meta.env.BASE_URL ?? '/';

const resolveHref = (href: string) => {
  if (/^https?:/i.test(href)) return href;
  if (href.startsWith(base)) return href;
  return `${base}${href.replace(/^\//, '')}`;
};
---
<header class="border-b border-white/10 bg-slate-950/80 backdrop-blur">
  <div class="mx-auto flex max-w-6xl items-center justify-between gap-4 px-4 py-6 sm:px-6">
    <a href={base} class="flex items-center gap-3 text-lg font-heading tracking-wide">
      <span class="inline-flex h-10 w-10 items-center justify-center rounded-full bg-brand-light/10 text-brand-light">
        ğŸŒ¿
      </span>
      <span>The Jungle Growshop</span>
    </a>
    <nav>
      <ul class="flex flex-wrap items-center gap-4 text-sm font-medium">
        {navItems.map((item) => (
          <li>
            <a href={resolveHref(item.href)} class="rounded-full px-3 py-2 transition hover:bg-white/5">
              {item.label}
            </a>
          </li>
        ))}
      </ul>
    </nav>
  </div>
</header>
